if (self.CavalryLogger) { CavalryLogger.start_js(["uDuA9"]); }

__d("ArtilleryComponentSaverOptionsStatic",[],(function(a,b,c,d,e,f){e.exports={options:{ads_wait_time_saver:{shouldCompress:!1,shouldUploadSeparately:!1},ads_flux_profiler_saver:{shouldCompress:!0,shouldUploadSeparately:!1},comet_dev_tools_web_loom_saver:{shouldCompress:!0,shouldUploadSeparately:!1},timeslice_execution_saver:{shouldCompress:!0,shouldUploadSeparately:!1},interaction_async_request_join_data:{shouldCompress:!0,shouldUploadSeparately:!0},resources_saver:{shouldCompress:!0,shouldUploadSeparately:!1}}}}),null);
__d("MStoriesUIConstants",["fbt"],(function(a,b,c,d,e,f,g){"use strict";a={PROGRESS_BAR:{DEFAULT_TIMER_DURATION_IN_SEC:6,STORY_UPDATE_TICK_IN_SEC:.1},REDIRECT_DELAY_IN_MS:20,REFRESH_TIMEOUT_IN_MS:10*60*1e3,SEC_TO_MS:1e3,SWIPE_DISTANCE:80,SWIPE_DOWN_DISTANCE:150,CACHE_EXPIRATION_IN_MS:10*60*1e3,HIDE_HEADER_URLS:["/stories/view_tray","/stories/preview/"],UPLOAD_SUCCESSFUL:g._("Story added"),UPLOAD_FAILED:g._("Unable to add story"),EFFECTS_LIST_FAILED:g._("Unable to load effects"),EFFECT_APPLY_FAILED:g._("Unable to apply effect")};e.exports=a}),null);
__d("MArrays",[],(function(a,b,c,d,e,f){"use strict";e.exports={findPrefix:function(a,b){for(var c=0;c<a.length;c++)if(b.startsWith(a[c]))return!0;return!1}}}),null);
__d("ArtilleryAsyncRequestTracingAnnotator",["FBLogger","IntervalTrackingBoundedBuffer","ResourceTimingsStore","ResourceTypes"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=[1e3],h=new(b("IntervalTrackingBoundedBuffer"))(),i="FB-ART-INFO",j=new Map();function k(a,b){return b!=null&&b.artillery_join_data!=null?{uid:a,ids_for_timings:b.artillery_join_data}:null}a={startTracingWindow:function(a,b,c){c===void 0&&(c=null);var d=h.open();c=c||g;j.set(a,{trace_id:a,interaction_name:b,tracing_levels:c});return{finishTracingWindow:function(){j["delete"](a);return d.close()}}},registerAsyncRequest:function(a,c){if(j.size===0)return function(){};else{var d=JSON.stringify(Array.from(j.values()));a.setRequestHeader(i,d);return function(a){a=k(c,a);a!=null?h.pushElement(a):(b("FBLogger")("ArtilleryAsyncRequestTracingAnnotator").debug("expected a payload back in the response from the server containing trace information, but nothing arrived."),b("ResourceTimingsStore").annotate(b("ResourceTypes").XHR,c).addStringAnnotation("join_error","join_data_expected_but_not_found"))}}},__active:function(){throw new Error("__active should only be available in __DEV__")}};e.exports=a}),null);
__d("ArtilleryTraceIDUtils",["Alea","FBLogger","ServerNonce"],(function(a,b,c,d,e,f){__p&&__p();var g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",h=b("Alea")(b("ServerNonce").ServerNonce),i=function(){var a=0,b=0,c="";for(var d=10;d>=0;d--)a<6&&(b=Math.floor(2147483648*h()),a=32),d===0&&(b&=7),c=g.charAt(b&63)+c,b>>=6,a-=6;return c};a={newTraceId:function(){var a;for(var c=3;c>0;c--){a=i();if(a!=this.getDummyId())return a}b("FBLogger")("FIXME").mustfix("failed to generate valid Fbtrace id");return this.getDummyId()},newObjectId:function(){return this.newTraceId()},getDummyId:function(){return"AAAAAAAAAAA"},traceIdToBucket:function(a){a=a.charAt(a.length-1);return g.indexOf(a)%32}};e.exports=a}),null);
__d("InteractionAsyncRequestJoinDataSource",["ArtilleryAsyncRequestTracingAnnotator","FBLogger"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={registerInteraction:function(a){__p&&__p();a.countDown();var c=a.traceID,d=a.name;if(c==null){b("FBLogger")("InteractionAsyncRequestJoinDataSource").mustfix("got a null trace_id for interaction "+d+". Typically this indicates that only lite tracing was on, which this hook does not support");return}var e=b("ArtilleryAsyncRequestTracingAnnotator").startTracingWindow(c,d);a.registerOnBeforeFinish(function(a){var b=e.finishTracingWindow();a.recordWithExtraSaver("interaction_async_request_join_data","entries",b)});a.registerOnCleanup(function(){e.finishTracingWindow()})}};e.exports=a}),null);
__d("TSIAdsReliabilityHook",[],(function(a,b,c,d,e,f){"use strict";var g={callbacks:[],register:function(a){g.callbacks.push(a)},event:function(a,b,c){g.callbacks.forEach(function(d){return d(a,b,c)})}};e.exports=g}),null);
__d("TimeSliceExecutionLogger",["ExecutionContextObservers","IntervalTrackingBoundedBuffer","OnDemandExecutionContextObserver","TimeSlice","TimingAnnotations","performanceAbsoluteNow"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h,i=1e4,j={BEGIN:"b",END:"e"},k=new(b("TimingAnnotations"))(),l;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$TimeSliceExecutionLogger1=new(b("IntervalTrackingBoundedBuffer"))(i),c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.onNewContextCreatedWhileEnabled=function(a,c,d){if(a)return(g||(g=b("performanceAbsoluteNow")))();else return null};d.onBeforeContextStartedWhileEnabled=function(a,b,c){c={type:j.BEGIN,ts:a.absBeginTimeMs};b!==null&&(c.creation=b);this.$TimeSliceExecutionLogger1.pushElement(c);a=l;l=null;return a};d.onAfterContextStartedWhileEnabled=function(a,b,c,d){return c};d.onAfterContextEndedWhileEnabled=function(a,b,c,d){b=a.absEndTimeMs;d={type:j.END,ts:b,name:a.name,id:a.contextID};l&&(d.annotations=l.prepareToSend());this.$TimeSliceExecutionLogger1.pushElement(d);l=c};d.annotateCurrentExecution=function(){if(!this.isEnabled())return k;l==null&&(l=new(b("TimingAnnotations"))());return l};d.getBeforeID=function(){return(h||(h=b("ExecutionContextObservers"))).beforeIDs.TIMESLICE_EXECUTION_LOGGER};d.getAfterID=function(){return(h||(h=b("ExecutionContextObservers"))).afterIDs.TIMESLICE_EXECUTION_LOGGER};d.getBuffer=function(){return this.$TimeSliceExecutionLogger1};return c}(b("OnDemandExecutionContextObserver"));c=new a();b("TimeSlice").registerExecutionContextObserver(c);e.exports=c}),null);
__d("TimeSliceExecutionDataSource",["TimeSliceExecutionLogger","performanceAbsoluteNow"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;a={registerInteraction:function(a){a.countDown();var c=(g||(g=b("performanceAbsoluteNow")))(),d=b("TimeSliceExecutionLogger").getBuffer().open(),e=b("TimeSliceExecutionLogger").expressInterest();a.registerOnBeforeFinish(function(a){e();var b=d.close(),f=d.hasOverflown();a.recordWithExtraSaver("timeslice_execution_saver","entries",{startTime:c,entries:b,hasOverflown:f})});a.registerOnCleanup(function(){e(),d.close()})}};e.exports=a}),null);
__d("TimeSliceInteractionBootloadForPost",["Bootloader"],(function(a,b,c,d,e,f){"use strict";function a(a){b("Bootloader").loadModules(["Banzai","BanzaiStream","BanzaiODS","ResourceTimingBootloaderHelper","TimeSliceHelper","SnappyCompressUtil","PerfXSharedFields"],a,"TimeSliceInteractionBootloadForPost")}e.exports=a}),null);
__d("TimeSliceInteractionReliability",["ifRequired"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g="timeslice_interactions",h=!0,i=new Map();function j(a,b,c){return b+":"+c+":"+a}function a(a,c,d){a=j(a,c,d);var f=b("ifRequired")("BanzaiODS",function(a){return a});if(!f){c=i.get(a)||0;i.set(a,c+1)}else h&&(i.forEach(function(a,b){return f.bumpEntityKey(2966,g,b,a)}),h=!1),f.bumpEntityKey(2966,g,a,1)}e.exports={bumpLifecycleCounter:a}}),null);
__d("performanceNavigationStart",["performance"],(function(a,b,c,d,e,f){__p&&__p();var g;if((g||(g=b("performance"))).now)if((g||(g=b("performance"))).timing&&(g||(g=b("performance"))).timing.navigationStart)a=function(){return(g||(g=b("performance"))).timing.navigationStart};else{if(typeof window._cstart==="number")a=function(){return window._cstart};else{var h=Date.now();a=function(){return h}}a.isPolyfilled=!0}else a=function(){return 0},a.isPolyfilled=!0;e.exports=a}),null);
__d("TimeSliceInteraction",["invariant","Arbiter","ArtilleryComponentSaverOptionsStatic","ArtilleryTraceIDUtils","Bootloader","CircularBuffer","ErrorUtils","FBLogger","Heartbeat","InteractionAsyncRequestJoinDataSource","ProfilingCounters","ProfilingCountersStore","Random","ResourceTimingsStore","ResourceTypes","TimeSlice","TimeSliceExecutionDataSource","TimeSliceInteractionBootloadForPost","TimeSliceInteractionReliability","TimeSliceInteractionSV","TimingAnnotations","TSIAdsReliabilityHook","Visibility","compactArray","nullthrows","performance","performanceAbsoluteNow","performanceNavigationStart","requestIdleCallbackAcrossTransitions","requireWeak"],(function(a,b,c,d,e,f,g){__p&&__p();var h,i,j,k,l;b("requireWeak")("AsyncProfiler",function(a){l=a});var m={pointGroup:null,type:null,isPointOfInterest:null};d=250;var n=new(b("CircularBuffer"))(d);new Map();f=100;var o=new(b("CircularBuffer"))(f),p=new Map(),q=!1,r=null;b("Arbiter").subscribe("perf_nub_interaction_trace",function(a,b){if(r)return;q=!0});var s=new(b("TimingAnnotations").EmptyTimingAnnotations)(),t=new(b("TimingAnnotations").EmptyTraceTimingAnnotations)(),u="artillery_javascript_actions",v="artillery_javascript_lite_actions";function c(a){var b="visibility_state_"+a,c={isPointOfInterest:!0,pointGroup:"visibility_state_changes"};return function(){return C.informGlobally(b,c)}}if(b("Visibility")&&b("Visibility").addListener){(d=b("Visibility")).addListener(d.HIDDEN,c("hidden"));d.addListener(d.VISIBLE,c("visible"))}function w(a){if(b("Visibility")){var c=b("Visibility").isHidden()?b("Visibility").HIDDEN:b("Visibility").VISIBLE;a.inform("visibility_state_"+c,{pointGroup:"visibility_state_changes"})}}function x(a){return q&&a==="Event"}function y(a){__p&&__p();var c=b("TimeSliceInteractionSV").interaction_to_coinflip,d=b("TimeSliceInteractionSV").interaction_to_lite_coinflip,e;x(a)?e=1:e=Object.prototype.hasOwnProperty.call(c,a)?c[a]:b("TimeSliceInteractionSV").default_rate;c=Object.prototype.hasOwnProperty.call(d,a)?d[a]:b("TimeSliceInteractionSV").lite_default_rate;d=new Set();b("Random").coinflip(c)&&d.add("lite");b("Random").coinflip(e)&&d.add("full");a=0;d.has("full")?a=1/e:e===0?a=0:a=1-1/e;e=0;d.has("lite")&&(e=1/c);return{modes:d,probability:a,liteProbability:e}}function z(){return p.size!==0}function A(a){return babelHelpers["extends"]({},a,{annotations:a.annotations.prepareToSend()})}function B(a,c){__p&&__p();c=(h||(h=b("ProfilingCountersStore"))).getNestedTotalsByAttributions(c,a);a=c.attributed;c=c.unattributed;var d={};a=Object.entries(a);for(var e=0;e<a.length;e++){var f=a[e],g=f[0];f=f[1];d["internal:"+g]=f}g=Object.entries(c);for(var f=0;f<g.length;f++){a=g[f];e=a[0];c=a[1];d["external:"+e]=c}return d}var C=function(){"use strict";__p&&__p();c.create=function(a,b,d){b===void 0&&(b=[]);d===void 0&&(d=!1);a=new c(a,b,d);a.trace().addStringAnnotation("initiatorType","manually_ended");return a};c.informGlobally=function(a,c){if(!z())return s;var d=(i||(i=b("performanceAbsoluteNow")))(),e=new(b("TimingAnnotations"))(),f=babelHelpers["extends"]({ts:d,name:a,annotations:e,rawStackTrace:c&&c.rawStackTrace||null,guardStack:b("TimeSlice").getGuardNameStack()},m,c);e.addStringAnnotation("global_point","1");p.forEach(function(a){return a.push(f)});return e};c.informOnPage=function(a,c){var d=(i||(i=b("performanceAbsoluteNow")))(),e=new(b("TimingAnnotations"))();d=babelHelpers["extends"]({ts:d,name:a,annotations:e,rawStackTrace:c&&c.rawStackTrace||null,guardStack:[]},m,c);n.write(d);return e};function c(a,c,d){__p&&__p();var e=this;c===void 0&&(c=[]);d===void 0&&(d=!1);this.$2=null;this.$4=!0;this.$5=null;this.$6=[];this.$7=!1;this.$10=[];this.$11=[];this.$12=[];this.$13=[];this.$14=new(b("TimingAnnotations").TraceTimingAnnotations)();this.$15=new Map();this.$18=null;this.$19=1;this.$22=1;this.$26=!0;this.$27={};var f=y(a),g=f.modes,k=f.probability;f=f.liteProbability;this.$16=g;this.$1=a;this.$20=k;this.$21=f;this.$17=d?b("performanceNavigationStart")():(i||(i=b("performanceAbsoluteNow")))();this.$25=new Map();this.$9=new Set();k=this.inform("trace_started",{type:3,pointGroup:"e2e",isPointOfInterest:!0,ts:this.$17});(j||(j=b("performance")))&&(j||(j=b("performance"))).now&&k.addStringAnnotation("offset_from_start_of_req_ms",(j||(j=b("performance"))).now().toString());w(this);p.set(this,[]);this.isEnabledForMode("full")&&(b("TimeSliceInteractionSV").enable_heartbeat&&(this.$5=b("Heartbeat").get().expressInterest()),l&&l.enabled()&&(this.$8=l.startRecording()),this.$3=b("ArtilleryTraceIDUtils").newTraceId());g.has("full")&&o.write({interaction:this,ts:(i||(i=b("performanceAbsoluteNow")))()});if(g.size===0)this.disable(!0);else{if(this.isEnabledForMode("full")){b("TimeSliceInteractionSV").enable_heartbeat&&(this.$5=b("Heartbeat").get().expressInterest());b("TimeSliceInteractionSV").force_async_request_tracing_on&&c.push(b("InteractionAsyncRequestJoinDataSource"));f=b("ProfilingCounters").getObserver().expressInterest();this.$12.push(f);x(a)&&(r=b("nullthrows")(this.$3),q=!1);this.$23=(h||(h=b("ProfilingCountersStore"))).getInstance().open();this.$24=b("TimeSlice").getBuffer().open();this.$12.push(function(){e.$24&&e.$24.close(),e.$23&&e.$23.close()})}var m={trace:function(){return e.trace()},countDown:function(){return e.countDown()},forceFinish:function(){return e.finish(!0)},registerOnBeforeFinish:function(a){return e.registerOnBeforeFinish(a)},registerOnCleanup:function(a){return e.registerOnCleanUp(a)},traceID:this.$3,name:a};b("TimeSliceInteractionSV").also_record_new_timeslice_format&&c.push(b("TimeSliceExecutionDataSource"));var n=b("compactArray")(c.map(function(a){e.$22++;return a.registerInteraction(m)}));this.$12.push(function(){n.forEach(function(a){return a.remove()})});this.$11.push(function(){e.trace().addStringAnnotation("wait_for_count",""+e.$22)})}for(var d=g,k=Array.isArray(d),f=0,d=k?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(k){if(f>=d.length)break;c=d[f++]}else{f=d.next();if(f.done)break;c=f.value}g=c;b("TimeSliceInteractionReliability").bumpLifecycleCounter("starting",a,g)}}var d=c.prototype;d.recordWithExtraSaver=function(a,b,c){if(this.isEnabled()){var d=this.$25.get(a)||{};b!=null&&c!=null&&(d[b]=c);this.$25.set(a,d)}return this};d.countDown=function(){this.$22--,this.$22===0?this.$18&&this.$18():this.$22<0&&b("FBLogger")("TimeSliceInteraction").warn("some hook counted down twice")};d.countUp=function(){this.$22>0?++this.$22:b("FBLogger")("TimeSliceInteraction").warn("Attempting to countUp on finished interaction")};d.inform=function(a,c){var d=c!=null&&c.isPointOfInterest;if(!this.isEnabledForMode("full")&&!(this.isEnabledForMode("lite")&&d))return s;d=c&&c.ts||(i||(i=b("performanceAbsoluteNow")))();var e=new(b("TimingAnnotations"))(),f=this.isEnabledForMode("full")?b("TimeSlice").getGuardNameStack():[];this.$10.push(babelHelpers["extends"]({ts:d,name:a,annotations:e,rawStackTrace:c&&c.rawStackTrace||null,guardStack:f},m,c));return e};d.informPointWithOverride=function(a,c){__p&&__p();var d=(i||(i=b("performanceAbsoluteNow")))(),e=c!=null&&c.isPointOfInterest;if(!this.isEnabledForMode("full")&&!(this.isEnabledForMode("lite")&&e)||!this.$27)return s;e=this.isEnabledForMode("full")?b("TimeSlice").getGuardNameStack():[];var f=this.$27[a];c&&(c.rawStackTrace=c.rawStackTrace||null);if(f)f.ts=d,f.guardStack=e,Object.assign(f,c||{});else{f=new(b("TimingAnnotations"))();this.$27[a]=babelHelpers["extends"]({ts:d,name:a,annotations:f,rawStackTrace:c&&c.rawStackTrace||null,guardStack:e},m,c)}return this.$27[a].annotations};d.invokeWithProfiling=function(c,d){if(!this.isEnabledForMode("full"))return d();var e=this.inform("start_"+c);this.$6.push(e);e=(k||(k=b("ErrorUtils"))).applyWithGuard(d,a,null,null,c);this.inform("finished_"+c);this.$6.pop();return e};d.getCurrentInvocation=function(){if(!this.isEnabledForMode("full"))return s;else if(this.$6.length<1)return s;else return this.$6[this.$6.length-1]};d.finish=function(a){__p&&__p();var c=this;this.$28(a?"client_tsi_finish_on_unload":"client_tsi_finish");if(!this.$4)return;if(a&&this.$18){this.$18();return}if(this.$7)b("FBLogger")("TimeSliceInteraction").warn("Trace was already marked as ended");else{w(this);this.$13.forEach(function(a){return a(c)});for(var d=this.$16,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(e){if(f>=d.length)break;h=d[f++]}else{f=d.next();if(f.done)break;h=f.value}h=h;b("TimeSliceInteractionReliability").bumpLifecycleCounter("finishing",this.$1,h)}this.inform("trace_ended",{type:4,pointGroup:"e2e",isPointOfInterest:!0});var j=this.isEnabledForMode("lite"),k=this.isEnabledForMode("full");k&&this.trace().addStringAnnotation("weight",""+1/(this.$19*this.$20));j&&this.trace().addStringAnnotation("lite_weight",""+1/(this.$19*this.$21));navigator&&navigator.connection&&(typeof navigator.connection.downlink==="number"&&this.trace().addStringAnnotation("browser_downlink_megabits",navigator.connection.downlink.toString()),typeof navigator.connection.rtt==="number"&&this.trace().addStringAnnotation("browser_rtt_ms",navigator.connection.rtt.toString()),typeof navigator.connection.effectiveType==="string"&&this.trace().addStringAnnotation("browser_effective_connection_type",navigator.connection.effectiveType));var m=(i||(i=b("performanceAbsoluteNow")))(),n=p.get(this);p["delete"](this);this.$5&&this.$5();var o=this.$23!=null?this.$23.close():[],q=this.$24!=null?this.$24.close():[],s=this.$24!=null?this.$24.hasOverflown():!1,t=this.$24!=null?this.$24.getOverflowSize():0;if(j||k){var u=function(a){j&&c.$29(n),k&&c.$30(m,n,a,o,q,s,t),r&&r===c.$3&&(b("Arbiter").inform("time_slice_trace_posted",{traceId:c.$3}),r=null),c.$31()},v=u;if(this.$8!==void 0){l||g(0,1439);var x=l.stopRecording(this.$8);v=function(){x["catch"](function(a){setTimeout(function(){throw a},0)}).then(u)}}a?v():this.$18=function(){return b("requestIdleCallbackAcrossTransitions")(function(){return v()})}}this.countDown();this.$7=!0}};d.registerOnBeforeSend=function(a){this.$4&&this.$11.push(a);return this};d.registerOnBeforeFinish=function(a){this.$4&&this.$13.push(a);return this};d.registerOnCleanUp=function(a){this.$4&&this.$12.push(a);return this};d.trace=function(){return!this.$4?t:this.$14};d.getTraceID=function(){return this.$4?this.$3:null};d.setExtraSampleRate=function(a){this.$19=a;return this};d.isEnabled=function(){return this.$4};d.disable=function(a){__p&&__p();a===void 0&&(a=!1);p["delete"](this);this.$5&&this.$5();this.$8!==void 0&&(l||g(0,1439),l.stopRecording(this.$8));if(!a&&this.$4)for(var a=this.$16,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;b("TimeSliceInteractionReliability").bumpLifecycleCounter("disabled",this.$1,e)}this.$4=!1;this.$31()};d.disableBanzaiStream=function(){this.$26=!1};c.getPageLoadPoints=function(a,b){var c=[],d=n.read();for(var e=d.length-1;e>=0;e--){var f=d[e];if(f.ts<a)return c;else f.ts<b&&c.push(A(f))}return c};c.getInteractionIDsBetween=function(a,b){__p&&__p();var c=[],d=o.read();for(var e=d.length-1;e>=0;e--){var f=d[e],g=f.interaction;f=f.ts;g=g.getTraceID();if(f<a)return c;else f<b&&g!=null&&c.push(g)}return c};d.receiveAsyncResponse=function(a){a!=null&&a.artillery_info&&this.isEnabledForMode("full")?this.$32(a.artillery_info.artillery_join_points):this.disable();return this};d.addArtilleryIDHeader=function(a){this.$4&&a.setRequestHeader("X-ARTILLERY-REQ-METADATA",JSON.stringify({trace_id:this.$3}));return this};d.forResourceRequest=function(a){__p&&__p();if(!this.isEnabledForMode("full"))return s;else{var c=this.$15.get(a);if(c)return c;else{c=new(b("TimingAnnotations"))();this.$15.set(a,c);return c}}};d.addProfilingCounterAttribution=function(a){this.$9.add(a);return this};d.$32=function(a){if(!this.isEnabledForMode("full"))return this;this.$2=a;return this};d.$29=function(a){__p&&__p();var c=this;this.$11.forEach(function(a){return a()});this.$11=[];if(!this.isEnabled())return;var d=[];a=this.$10.concat(Object.values(this.$27)).concat(a||[]);a.forEach(function(a){a.isPointOfInterest&&d.push({ts:a.ts,name:a.name,pointGroup:a.pointGroup,annotations:a.annotations.prepareToSend()})});var e={trace_id:this.$3,action_name:this.$1,trace_annotations:this.$14.prepareToSend(),points:d};b("Bootloader").loadModules(["Banzai","BanzaiODS","PerfXSharedFields"],function(a,d,f){b("TimeSliceInteractionReliability").bumpLifecycleCounter("posting",c.$1,"lite"),a.post(v,f.addCommonValues(e),a.VITAL)},"TimeSliceInteraction")};d.$30=function(a,c,d,e,f,g,i){__p&&__p();var k=this;this.$28("client_tsi_post_start");this.$11.forEach(function(a){return a()});this.$11=[];if(!this.isEnabled())return;c=c!=null?this.$10.concat(c):this.$10;c.push.apply(c,Object.values(this.$27));var l=c.map(A),m=Array.from(this.$9.keys()),n=new Map(this.$25.entries());b("TimeSliceInteractionBootloadForPost")(function(c,o,p,q,r,s,t){__p&&__p();k.$28("client_tsi_post_ready");b("TimeSliceInteractionReliability").bumpLifecycleCounter("posting",k.$1,"full");p=r.getMetrics(k.$17,a,b("TimeSliceInteractionSV").maxBlockMergeDuration,b("TimeSliceInteractionSV").maxBlockMergeDistance,f,(h||(h=b("ProfilingCountersStore"))).toMap(e),{includeRefTreeIDs:!0,counterFunction:function(a){return B(m,a)}});k.$14.addStringAnnotation("overflown_timeslice_buffer",g?"1":"0");k.$14.addStringAnnotation("overflown_timeslice_entry_count",""+i);if((j||(j=b("performance")))&&(j||(j=b("performance"))).timing&&(j||(j=b("performance"))).timing.navigationStart){var v=f.length>0?f[0].begin:null;q=q.getMetrics(v!=null&&v<k.$17?v:k.$17,{},null,a,!0,!0);v=q.data;q=q.diagnostics;q&&(k.$14.addStringAnnotation("number_of_valid_entries",q.numValidEntries.toString()),k.$14.addStringAnnotation("number_of_success_metrics",q.numSuccessfulMetrics.toString()));Object.values(v).forEach(function(a){return a.forEach(function(a){var c=a.desc,d=a.type,e=k.$15.get(c);e=e&&e.prepareToSend();if(d===b("ResourceTypes").JS||d===b("ResourceTypes").CSS||d===b("ResourceTypes").XHR){d=b("ResourceTimingsStore").getAnnotationsFor(d,c);e=b("TimingAnnotations").combine(e,d)}a.annotations=e})})}else v={};var w={};n.forEach(function(a,c){__p&&__p();var d=b("ArtilleryComponentSaverOptionsStatic").options[c];d=!!(d&&d.shouldCompress);if(d){d=s.compressStringToSnappy(JSON.stringify(a));if(d!=null){w[c]={data:d,isCompressed:!0};return}}w[c]={isCompressed:!1,data:a}});q={trace_id:k.$3,join_points:k.$2,action_name:k.$1,points:l,traceAnnotations:k.$14.prepareToSend(),timeslices:r.formatMetricsForTransport(p),resource_timings:v,sampler_profile:d,extra_savers:w};q=t.addCommonValues(q);b("TimeSliceInteractionSV").compression_enabled&&(q=k.$33(s,q));r=b("TimeSliceInteractionSV").banzai_stream_coinflip||0;k.$26&&b("TimeSliceInteractionSV").enable_banzai_stream&&b("Random").coinflip(r)?o.post(u,q,{compress:!1}):c.post(u,q,{compress:!1})})};d.$33=function(a,b){var c=["points","timeslices","resource_timings","sampler_profile"],d={};c.forEach(function(c){var e=b[c];if(e==null)return;e=JSON.stringify(e);e=a.compressStringToSnappy(e);e!==null&&(d[c]=e,delete b[c])});return babelHelpers["extends"]({},b,{miny:d})};d.$31=function(){delete this.$10,this.$11=[],this.$12&&(this.$12.forEach(function(a){return a()}),this.$12=[]),this.$13=[],delete this.$27,delete this.$18,delete this.$25};d.isEnabledForMode=function(a){return this.$4&&!this.$7&&this.$16.has(a)};d.isDone=function(){return this.$7};d.$28=function(a){b("TSIAdsReliabilityHook").event(this.$1,a,this.getTraceID())};c.getAllActiveInteractions=function(){return p.keys()};return c}();e.exports=C}),null);
__d("once",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){var b=g(a);for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b}function g(a){__p&&__p();var b=a,c;a=function(){if(b){for(var a=arguments.length,d=new Array(a),e=0;e<a;e++)d[e]=arguments[e];c=b.apply(this,d);b=null}return c};return a}e.exports=a}),null);
__d("FalcoLoggerInternal",["Banzai","FalcoJSLoggerSamplingPolicies"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g="falco:";function h(a){return a!==0&&Math.random()*a<1}function i(a,c,d,e){if(h(c)){b("Banzai").post(g+a,(a={},a.e=d(),a.r=c,a),e)}}e.exports={create:function(a){var c=b("FalcoJSLoggerSamplingPolicies").rates[a]||0;return{log:function(d){i(a,c,d,b("Banzai").BASIC)},logImmediately:function(d){i(a,c,d,b("Banzai").VITAL)}}}}}),null);
__d("PerfFalcoEvent",["FalcoLoggerInternal"],(function(a,b,c,d,e,f){"use strict";a=b("FalcoLoggerInternal").create("perf");e.exports=a}),null);
__d("QuickLogActionType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({START:1,SUCCESS:2,FAIL:3,CANCEL:4,DRAW_COMPLETE:5,ON_RESUME:6,ACTIVITY_CREATED:7,CONSISTENCY_MODEL_UPDATER:8,SEND_MESSAGE:9,SUCCESS_COLD:10,SUCCESS_WARM:11,UI_IDLE:12,PHASE_ONE:13,PHASE_TWO:14,DEQUEUE:15,NETWORK_COMPLETE:16,MEMORY_CACHE_VISIT:17,DISK_CACHE_VISIT:18,CONSISTENCY_UPDATE:19,RETURN_TO_CALLER:20,PHOTO_UPLOAD_COMPLETE:21,USER_NAVIGATION_CANCELLATION:22,DB_FETCH:23,SERVER_FETCH:24,SUCCESS_CACHE:25,SUCCESS_DB:26,SUCCESS_NETWORK:27,SUCCESS_LOCAL_UNSPECIFIED:28,CACHE_UPDATED:29,DB_UPDATED:30,DATA_RECEIVED:31,DRAW_VIEW:32,DATA_EMPTY:33,CACHE_FETCH:34,PREPARE_BEGIN:35,PREPARE_END:36,ASYNC_BEGIN:37,ASYNC_END:38,REMOVE_BEGIN:39,REMOVE_END:40,BROADCAST_DONE:41,ON_RESUME_END:42,ON_ATTACH_END:43,ON_FRAGMENT_CREATE_END:44,ON_CREATE_VIEW_END:45,ON_ACTIVITY_CREATED_END:46,ON_START_END:47,QUEUED:48,IN_PROGRESS:49,INIT:50,UNKNOWN:51,RETRY_AFTER_FAILURE:52,RETRY_AFTER_RECONNECT:53,QUEUEING_BEGIN:54,QUEUEING_SUCCESS:55,QUEUEING_FAIL:56,MESSAGE_UPDATE_START:57,MESSAGE_UPDATE_END:58,PHOTO_CAPTURED:59,MEDIA_PREVIEW_VISIBLE:60,COUNTER:61,INTERACTION_LOAD_TIMELINE_HEADER:62,INTERACTION_LOAD_EVENT_PERMALINK:63,INTERACTION_LOAD_GROUPS_FEED:64,INTERACTION_LOAD_PAGE_HEADER:65,INTERACTION_LOAD_PAGE_HEADER_ADMIN:66,INTERACTION_LOAD_PERMALINK:67,INTERACTION_OPEN_COMPOSER:68,INTERACTION_OPEN_MEDIA_PICKER:69,INTERACTION_OPEN_PHOTO_GALLERY:70,INTERACTION_OPEN_CHECK_IN:71,INTERACTION_LOAD_WEB_VIEW:72,INTENT_MAPPED:73,ACTIVITY_LAUNCHED:74,ACTIVITY_PAUSED:75,ACTIVITY_STARTED:76,ACTIVITY_RESUMED:77,FRAGMENT_CREATED:78,FRAGMENT_RESUMED:79,ACTIVITY_ON_CREATE:80,INTENT_MAPPING_BEGIN:81,FRAGMENT_ON_CREATE:82,FRAGMENT_NEW_INSTANCE:83,MARKER_SWAPPED:84,FRAGMENT_INSTANCE_CREATED:85,PREV_ACTIVITY_PAUSED:86,ERROR:87,METHOD_INVOKE:88,FINALLY:89,PHOTO_DOWNLOAD_COMPLETE:90,MINIPREVIEW_COMPLETE:91,SEARCH_TYPEAHEAD:92,ANIMATION_END:93,UDP_REQUEST_SEND:94,MAIN_COMPLETE:95,INTERRUPTED:96,NETWORK_FAILED:97,NETWORK_RESPONSE:98,EDGE_PROCESSING_BEGIN:99,NEWSFEED_PROCESS_RESPONSE:100,ON_VIEW_CREATED_END:101,DATA_LOAD_START:102,LEGACY_MARKER:103,ACTION_BAR_COMPLETE:104,ABORTED:105,QUERY_READY:106,RTMP_PACKET_RECEIVED:107,REQUESTED_PLAYING:108,RTMP_CONNECTION_REQUESTED:109,RTMP_CONNECTION_RELEASE:110,NEW_START_FOUND:111,MISSED_EVENT:112,TIMEOUT:113,CONTROLLER_INITIATED:114,RTMP_STREAM_PREPARED:115,VIDEO_PLAYING:116,RTMP_CONNECTION_CONNECTED:117,RTMP_CONNECTION_FAILED:118,RTMP_CONNECTION_INTERCEPTED:119,VIDEO_SET_RENDERER_CONTEXT:120,HEADER_DATA_LOADED:121,CARD_DATA_LOADED:122,VIEW_WILL_APPEAR_BEGIN:123,VIEW_DID_LOAD_BEGIN:124,COMPONENTS_DATA_SOURCE_WILL_BEGIN_UPDATES:125,COMPONENTS_DATA_SOURCE_DID_END_UPDATES:126,LOAD_VIEW_BEGIN:127,RTMP_FIRST_KEY_FRAME_RECEIVED:128,MESSENGER_QUEUE_CREATION:129,APP_DID_FINISH_LAUNCHING:130,APP_DID_BECOME_ACTIVE:131,APP_WILL_ENTER_FOREGROUND:132,APP_DID_ENTER_BACKGROUND:133,APP_MAIN:134,MQTT_CONNECTING:135,MQTT_CONNECTED:136,MQTT_DISCONNECTED:137,MESSENGER_DELTA_REQUEST:138,APP_FIRST_VIEW_CONTROLLER:139,MESSENGER_THREAD_LIST_LOADED:140,MESSENGER_THREAD_LIST_DISPLAYED:141,PREV_ACTIVITY_PAUSE:142,ACTIVITY_RESUME:143,ACTIVITY_START:144,BEGIN_START_ACTIVITY:145,END_START_ACTIVITY:146,FILE_SYSTEM_FAIL:147,FORMAT_ERROR:148,PRIVACY_VIOLATION:149,NETWORK_RESPONSE_INITIAL_SCAN:150,POPULATE_CONSISTENCY_MEMORY_CACHE:151,APPLY_OPTIMISTICS:152,APPLY_FINISHED_LIST:153,APPLY_FINISHED_LIST_AGAIN:154,FUTURE_LISTENERS_COMPLETE:155,SERVICE_ON_START_COMMAND:156,WAIT_FOR_BLOCKERS:157,NOTIFY_SUBSCRIBERS:158,FAIL_FILE_TOO_LARGE:159,OFFLINE:160,ASNYC_FAILED:161,ASYNC_FAIL:162,ON_ATTACH_FRAGMENT:163,VIEW_DID_APPEAR_BEGIN:164,DISPLAYED:165,DISPLAYED_ON_SCREEN:166,ASYNC_ACTION_SUCCESS:167,ASYNC_ACTION_FAIL:168,CONNECTIVITY_CHANGED:169,VIDEO_DISPLAYED:170,VIDEO_REQUESTED_PLAYING:171,LOADED_AUDIO_SESSION:172,LOADED_CAMERA_SESSION:173,SUCCESS_OPTIMISTIC:174,OUT_OF_ORDER:175,NOT_READY:176,JSON_PARSE:177,FILE_NOT_FOUND:178,METABOX_COMPLETE:179,CALL_TO_ACTION_COMPLETE:180,HEADER_DRAW_COMPLETE:181,COVER_PHOTO_COMPLETE:182,COMPONENT_WILL_CREATE:183,COMPONENT_DID_CREATE:184,COMPONENT_WILL_LAYOUT:185,COMPONENT_DID_LAYOUT:186,COMPONENT_WILL_MOUNT:187,COMPONENT_DID_MOUNT:188,PRECALCULATE_EDGES:189,UI_THREAD_DEQUEUE:190,CALLBACKS_COMPLETE:191,CALLBACKS_DISPATCHED:192,NETWORK_PARSE_COMPLETE:193,START_LOADING_JS_BUNDLE:194,FINISH_LOADING_JS_BUNDLE:195,START_EXECUTING_JS_BUNDLE:196,FINISH_EXECUTING_JS_BUNDLE:197,START_CALLING_JS_FUNCTION:198,FINISH_CALLING_JS_FUNCTION:199,CREATED_MODEL_FILE:200,DB_SUPPLIER_GET:201,BEGIN_TRANSACTION:202,FILE_FLUSHED:203,OPTIMISTIC_UPDATES_APPLIED:204,FRAGMENT_VISIBLE:205,STALE:206,SUCCESS_GET_MODEL:207,FAIL_GET_MODEL:208,ALREADY_SEEN:209,UNKNOWN_SEEN_STATE:210,CREATED_INTENT:211,INVALID_INTENT:212,SHOW_NOTIFICATION:213,SUCCESS_FETCH_IMAGE:214,FAIL_FETCH_IMAGE:215,DROPPED:216,QUERY_CHUNKS:217,QUERY_ROWS:218,COMPUTE_CHUNKS:219,SCROLL_COMPLETE:220,USE_INSTANCE_STATE:221,USE_ARGUMENTS:222,OFFSCREEN:223,LOG_READ:224,LOG_COMPACTED:225,LOG_WRITER_OPENED:226,TAB_SWITCH:227,EXIT_VIEW_CONTROLLER:228,TAGS_PREPARED:229,VIEW_DID_APPEAR:230,MEDIA_TOO_SMALL:231,ITEM_SELECTED:232,REPOSITIONED:233,PHOTO_UPLOAD_START:234,MEDIA_EDIT:235,MEDIA_EDIT_COMPLETE:236,VIDEO_PAUSE:237,VIDEO_COMPLETE:238,VIDEO_PLAYING_TIMEOUT:239,VIDEO_PLAYING_QPL_TIMEOUT:240,SESSION_OPEN:241,SCHEMA_HASH_MISMATCH:242,OVERRIDES_EXIST:243,DI_DONE:244,FLATBUFFER_SCHEMA_ABSENT:245,SUCCESS_NONEXISTENCE:246,VIDEO_CANCELLED:247,MESSENGER_QUEUE_CREATION_FAILURE:248,MESSENGER_DELTA_REQUEST_FAILURE:249,RETURN_EXCEPTION_TO_CALLER:250,SURFACE_TEXTURE_AVAILABLE:251,NEWS_FEED_FRAGMENT:252,HEADER_CACHE_FETCH_STARTED:253,CHANGESET_ENQUEUED:258,RTC_BROADCAST_INITIALIZED:259,RTC_STREAMING_INITIALIZED:260,RTC_STREAMING_STARTED:261,CAMERA_VIDEO_OUTPUT_SWITCHED:262,RTMP_STREAM_STOPPED:263,LOCATION_FETCH_BEGIN:264,LOCATION_FETCH_SUCCESS:265,LOCATION_FETCH_FAILED:266,FIRST_UPDATE_SUCCESS:267,FIRST_UPDATE_FAILURE:268,RTMP_STREAMING_HANDLED_FRAME:269,RTMP_DVR_HANDLED_FRAME:274,LIVE_RTMP_STREAMING_HANDLED_FRAME:275,LIVE_RTMP_DVR_HANDLED_FRAME:276,PASS_QE_CHECK:277,PASS_AD_CHECK:278,PASS_SAMPLE_RATE_CHECK:279,HAS_VALID_HTML:280,FOUND_IMAGES:281,TIGON_REQUEST_BEGIN:282,TIGON_REQUEST_END:283,TIGON_RESPONSE_BEGIN:284,TIGON_RESPONSE_END:285,TIGON_PARSE_BEGIN:286,TIGON_PARSE_END:287,GRAPHQL_CACHE_FETCH_START:288,GRAPHQL_CACHE_FETCH_END:289,VIDEO_START_STALL:290,VIDEO_END_STALL:291,MERGE_LOCAL_FIELDS:292,LOAD_QUERY_STRING:293,CONFIG_TABLE_SCHEMA_HASH_MISMATCH:294,CONFIG_TABLE_SCHEMA_ABSENT:295,CONFIG_TABLE_MAGIC_MISMATCH:296,OBJSEL_FETCH:297,GO_TO_AD_ACTIVITY:298,SAVE_AD:299,UNSAVE_AD:300,SAVE_MODE:301,GO_AD_ACTIVITY_MODE:302,ACCESSIBILITY_ACTIVATE:303,ACCESSIBILITY_CUSTOM:304,ACCESSIBILITY_MAGIC_TAP:305,FINAL_IMAGE_SET:306,INTERMEDIATE_IMAGE_SET:307,INTERMEDIATE_IMAGE_FAIL:308,INTERMEDIATE_IMAGE_GOOD_ENOUGH_SET:309,APP_BACKGROUND:310,APP_FOREGROUND:311,RECEIVED_HARDWARE_FRAME:312,CAMERA_COMPONENT_MOUNTED:313,MQTT_CONNECTION_ATTEMPTED:314,DELTA_APPLICATION_COMPLETED:325,DELTAS_RECEIVED_AFTER_CONNECT:326,MESSENGER_DAY_UNIT_DISPLAYED:327,DATA_LOAD_END:328,VIEW_DID_BECOME_VISIBLE:329,DELTA_APPLICATION_INTERRUPTED:330,DELTA_BATCH_APPLICATION_COMPLETED:331,MESSAGE_LIST_DID_UPDATE:332,MESSAGE_LIST_WILL_UPDATE:333,SUCCESS_ZERO_WAIT_TIME:334,USER_SCROLLED:335,SPINNER_APPEARED:336,MODEL_ENQUEUED:337,VIEW_MODEL_APPLIED:338,PRESENTED:339,VIEW_DID_BECOME_VISIBLE_END:340,MESSENGER_DELTA_REQUEST_INIT:341,FEED_REQUEST_STARTED:342,FEED_REQUEST_FAILED:343,FEED_REQUEST_SUCCEEDED:344,FEED_LOAD_FROM_DISK_FINISHED:345,STORIES_REQUEST_STARTED:346,STORIES_REQUEST_FAILED:392,STORIES_REQUEST_SUCCEEDED:393,STORIES_LOAD_FROM_DISK_FINISHED:394,USER_INFO_LOADED:395,APP_CREATED:396,INIT_TO_USABLE:397,INIT_TO_NETWORK_CONTENT:398,TOTAL:399,HEAD:400,TAIL:401,INITIAL:402,OTHER:403,ANR_START_DATA_CAPTURE:404,ANR_ENQUEUE:405,NOTIF_NOT_ALERTED:406,NOTIF_DUPLICATE:407,NOTIF_MUTED:408,NOTIF_BUZZED:409,FEED_RESPONSE_PROCESSED:410,STORIES_RESPONSE_PROCESSED:411,APP_DID_FINISH_LAUNCHING_ENDED:412,ASYNC_BEGIN_DB:413,DELTA_APPLICATION_STARTED:414,ASYNC_SUCCESS_DB:415,ASYNC_FAIL_DB:416,ASYNC_BEGIN_SERVER:417,ASYNC_SUCCESS_SERVER:418,ASYNC_FAIL_SERVER:419,LEAVE:420,ASYNC_SUCCESS_DB_NO_DATA:429,ASYNC_FAIL_SERVER_NO_DATA:430,SUCCESS_MEMORY:431,SUCCESS_SERVER:432,FAIL_NO_DATA:433,ACTIVITY_NEW_INTENT:434,GRID_MEDIA_LOADED:435,STORY_TRAY_MEDIA_LOADED:436,INTERACTION_OPEN_QRCODE_SCANNER:437,MEDIA_LOAD_CACHE:438,MEDIA_LOAD_NETWORK:439,COMMENTS_LOAD_START:440,COMMENTS_LOAD_COMPLETE:441,MEDIA_LOAD_START:442,SCROLL_START:443,QRCODE_SCANNER_SCAN_SUCCESS:444,QRCODE_SCANNER_SCAN_FAILURE:445,APP_CREATED_MAIN_PROCESS:446,FINISH_REGISTERING_JS_NATIVE_MODULES:447,NON_ANR:448,FINISH_INITIALIZING_JS_BRIDGE:449,FINISH_INJECTING_JS_HOOKS:450,FINISH_RUNNING_JS_INITIALIZER:451,UI_RESPONSIVE:452,PHASE_ONE_COMPLETE:453,PHASE_TWO_COMPLETE:454,LS_HEADER_START:455,LS_HEADER_LOAD:456,LS_BODY_START:457,LS_BODY_LOAD:458,APP_ONCREATE:459,START_FETCH_IMAGE:460,LOGGED_OUT:461,LS_HEADER_LAYOUT_SUCCESS:462,STARTED_CAPTURE_SESSION:463,CAMERA_VIEW_READY:464,CAMERA_FIRST_FRAME:465,PHOTO_BITMAP_READY:466,END:467,FRAME_RENDERED:468,LS_MAP_LIST_START:469,LS_MAP_LIST_LOADED:470,LS_MAP_LIST_SUCCESS:471,FETCH_THREAD_STARTED:472,FETCH_THREAD_SUCCEEDED:473,FETCH_THREAD_FAILED:474,STRUCTURE_FETCH_COMPLETE:475,FOLLOWED_SHOWS_FETCHED:476,ABANDONED:477,ENTERED:478,LS_FILTER_START:479,LS_FILTER_LOAD:480,LS_FILTER_SUCCESS:481,LS_SEARCH_RESULT_START:482,LS_SEARCH_RESULT_LOAD:483,NETWORK_PARSE_START:484,NETWORK_REQUEST_SENT:485,COMPONENT_DATA_MODEL_UPDATE_START:486,COMPONENT_DATA_MODEL_UPDATE_COMPLETE:487,HIGH_RES_PHOTO_FILE_READY:488,NATIVE_PHOTO_BITMAP_READY:489,REEL_JSON_RECEIVED:490,REEL_MEDIA_RECEIVED:491,STORY_VIEWER_APPEAR:492,FETCH_INBOX_STARTED:493,FETCH_INBOX_SUCCEEDED:494,FETCH_INBOX_FAILED:495,REQUEST_ADDED:496,INIT_QE_START:497,INIT_QE_END:498,MULTIDEX_INSTALLED:499,PREPARE_CAMERA_SESSION:500,START_CAMERA_SESSION:501,DID_START_CAMERA_SESSION:502,FIRST_HARDWARE_FRAME:503,START_RENDERING_FIRST_USER_FRAME:504,FIRST_MEDIA_RENDERED:505,FIRST_CACHED_MEDIA_RENDERED:506,CAMERA_INITIALIZED:507,HTTP_TRANSACTION_STARTED:508,REMOTE_PROCESS:509,PRE_REQUEST_SEND_CALLED:510,BRIDGE_STARTUP_WILL_START:511,BRIDGE_STARTUP_DID_FINISH:512,COVER_PHOTO_LOW_RES:513,COVER_PHOTO_HIGH_RES:514,PROFILE_PIC_LOW_RES:515,PROFILE_PIC_HIGH_RES:516,CONTEXT_ITEMS:517,MEDIA_LOADED:518,STATE_UPDATE:519,ON_SHOW_LOGIN:520,EMPTY_REQUEST:521,METERED_CONNECTION:522,VIDEO_DOWNSTREAM_FORMAT_CHANGED:523,DISABLED:524,NO_METADATA:525,INCOMPLETE_METADATA:526,PHOTO_CAPTURE_READY:527,CAMERA_START_READY:528,DELAY_START:529,DELAY_STOP:530,RANK_START:531,RANK_STOP:532,DB_WRITE_START:533,DB_WRITE_STOP:534,ADD_STORY_TO_UI:535,WEBVIEW_URI_REDIRECTOR_CONSTRUCTION:536,UNINTERRUPTED:537,VIDEO_TOGGLE_FULL_SCREEN:538,CONFIGURE_START:539,CONFIGURE_END:540,BROWSER_OPEN:541,FIRST_DATA_RECEIVED:542,RVP_WILL_LOAD:543,RVP_DID_LOAD:544,CACHE_WRITE_START:545,CACHE_WRITE_SUCCESS:546,CACHE_WRITE_FAIL:547,RVP_WILL_PAUSE:548,RVP_DID_PAUSE:549,RVP_WILL_PLAY:550,RVP_DID_PLAY:551,RVP_WILL_PREPARE:552,RVP_DID_PREPARE:553,RVP_WILL_RELOAD:554,RVP_DID_RELOAD:555,RVP_WILL_CREATE:556,RVP_DID_CREATE:557,RVP_WILL_FINISH_INFLATE:558,RVP_DID_FINISH_INFLATE:559,RVP_WILL_MOUNT:560,RVP_DID_MOUNT:561,START_COMPRESSING_MESSAGE:562,MESSAGE_COMPRESSED:563,START_DECOMPRESSING_MESSAGE:564,MESSAGE_DECOMPRESSED:565,START_SENDING_MESSAGE:566,CAMERA_PREVIEW_FROZEN:567,VC_INIT_START:569,VC_INIT_BEGIN:570,VC_INIT_END:571,VC_VIEW_DID_LOAD_BEGIN:572,VC_VIEW_DID_LOAD_END:573,ROOT_QUERY_START:574,ROOT_QUERY_SUCCESS:575,ROOT_QUERY_FAIL:576,CACHE_INITIALIZED:577,FETCH_BEGIN:578,FETCH_FINISHED:579,PARSING_FINISHED:580,LOAD_VIEW_END:581,LOAD_URL_BEGIN:582,LOAD_URL_END:583,SHOULD_LOAD_URL_BEGIN:598,SHOULD_LOAD_URL_END:599,BLOCKING_RESOURCES_LOADED:600,WEB_PAGE_LOADED:601,JS_TEARDOWN:603,JS_SETUP:604,PREP_STATE:605,PREP_FORMS:606,RUN_FUNCTION:610,LOAD_MODULES:613,VIDEO_READY_TO_PLAY:614,CANCEL_NAVIGATION:615,BEGIN_HANDLE_EVENT:626,END_HANDLE_EVENT:627,BEGIN_PROCESS_EVENT:628,END_PROCESS_EVENT:629,CANCEL_BACKGROUND:630,SC_TRACKER_SETUP_BEGIN:631,SC_TRACKER_SETUP_END:632,PROFILE_TOOLBOX_SETUP_BEGIN:633,PROFILE_TOOLBOX_SETUP_END:634,FEED_TOOLBOX_SETUP_BEGIN:635,FEED_TOOLBOX_SETUP_END:636,SCREEN_PART_RECEIVED:637,RVP_DID_FAIL_AUTOPLAY:638,VIEW_WILL_APPEAR_END:639,VIDEO_RENDERED:640,VIEW_DID_APPEAR_END:641,SHARE_FLOW_LOADED:642,START_DOWNLOAD_FACE_DETECTION_EFFECT:643,APPLY_FACE_DETECTION_EFFECT:644,INTERACTION_SWIPE_UP:645,LOOM_PROVIDER_FAILURE:646,ADS_SELECT_POST_VIEW:647,ADS_SELECT_IMAGE_VIEW:648,ADS_SELECT_BUDGET_VIEW:649,ADS_SELECT_AUDIENCE_VIEW:650,ADS_SELECT_CREATIVE_VIEW:651,VIDEO_FETCH_REQUEST_START:652,VIDEO_FETCH_REQUEST_RECEIVED:653,VIDEO_FETCH_REQUEST_ENTER_NETWORK_QUEUE:654,VIDEO_FETCH_REQUEST_NETWORK_REQUEST_START:655,VIDEO_FETCH_REQUEST_NETWORK_RESPONSE_RECEIVED:656,VIDEO_FETCH_REQUEST_NETWORK_FIRST_BYTE_ARRIVED:657,VIDEO_FETCH_REQUEST_NETWORK_TRANSFER_COMPLETE:658,VIDEO_FETCH_REQUEST_SATISFIED_BY_CACHE:659,VIDEO_FETCH_REQUEST_COMPLETE:660,VIDEO_FETCH_REQUEST_CACHE_CHECK_START:661,VIDEO_FETCH_REQUEST_CACHE_CHECK_END:662,VIDEO_FETCH_REQUEST_DID_ATTACH_TO_NETWORK_REQUEST:663,SELECT_PHOTOS_FAILED_SCORE:664,SELECT_PHOTOS_FAILED_TIMESTAMP:665,INTERACTION_CLICK:666,VIDEO_SCRUBBER_FIRST_THUMBNAIL_SHOWN:667,VIDEO_SCRUBBER_THUMBNAIL_SHOWN:668,COLD_START_BEGIN:669,COLD_START_END:670,COLD_START_LOAD_APP_JS:671,COLD_START_QUERY_SEND:672,COLD_START_APP_SHELL_COMPONENT_DID_MOUNT:673,VIDEO_RECORDING_START_CALLED:674,VIDEO_RECORDING_STOP_CALLED:675,WIKTORK_TEST:676,WIKTORK_TEST_TWO:677,ON_VIDEO_RECORDING_FINISHED:678,MEASURE_IMAGE:679,PDP_RENDER_LOADING:680,PDP_RENDER_FETCHED:681,VIDEO_FETCH_REQUEST_FAILED:682,LOGIN_FLOW_STARTED:683,LOGIN_FLOW_COMPLETED:684,VIDEO_DOWNLOAD_STARTED:685,VIDEO_DOWNLOAD_READY_TO_PLAY:686,VIDEO_DOWNLOAD_FAILED:687,FBLITE_SCREEN_RECEIVED:688,FBLITE_SERVER_START:689,FBLITE_SERVER_END:690,FBLITE_INCOMPLETE:691,BACKGROUND_THREAD:692,MAIN_THREAD:693,BWE_ESTIMATE_COMPLETE:694,WIKTORK_TEST_THREE:695,FBLITE_UNEXPECTED:696,THREAD_ASYNC_BEGIN_SERVER:697,THREAD_ASYNC_SUCCESS_SERVER:698,CARD_ASYNC_BEGIN_SERVER:699,CARD_ASYNC_SUCCESS_SERVER:700,FBLITE_INSTANT_TRANSITION_FAILED:701,BB_TRACE_REQUESTED:702,CANCEL_PSP:703,AGGREGATED:704,UNINSTRUMENTED:705})}),null);
__d("PerfXSharedFields",[],(function(a,b,c,d,e,f){var g={addCommonValues:function(a){navigator&&navigator.hardwareConcurrency!==void 0&&(a.num_cores=navigator.hardwareConcurrency);navigator&&navigator.deviceMemory&&(a.ram_gb=navigator.deviceMemory);navigator&&navigator.connection&&(typeof navigator.connection.downlink==="number"&&(a.downlink_megabits=navigator.connection.downlink),typeof navigator.connection.effectiveType==="string"&&(a.effective_connection_type=navigator.connection.effectiveType),typeof navigator.connection.rtt==="number"&&(a.rtt_ms=navigator.connection.rtt));return a},getCommonData:function(){var a={};g.addCommonValues(a);return a}};e.exports=g}),null);
__d("QuickLogConfigHelper",["QuickLogConfig"],(function(a,b,c,d,e,f){a=function(){"use strict";function a(){}var c=a.prototype;c.getEventDetails=function(a){return b("QuickLogConfig").qpl_events[a]};return a}();e.exports=new a()}),null);
__d("QuickPerformanceLogger",["requireCond","Arbiter","Bootloader","Env","FBLogger","cr:682175","PerfFalcoEvent","PerfXSharedFields","QuickLogActionType","QuickLogConfig","QuickLogConfigHelper","Random","gkx","performanceAbsoluteNow","performanceNavigationStart"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h,i=(g||(g=b("performanceAbsoluteNow")))();a=function(){__p&&__p();function a(){this.$1={},this.$2={},this.$3=100,this.$5=1,this.$6=new Map()}var c=a.prototype;c.$7=function(a,c){if(b("QuickLogConfig").killswitch)return null;a=this.$1[a];if(!a)return null;a=a[c];return!a?null:a};c.markerStart=function(a,c,d){__p&&__p();c===void 0&&(c=0);d===void 0&&(d=this.currentTimestamp());if(b("QuickLogConfig").killswitch)return;this.$1&&this.$1[a]&&this.$1[a][c]&&b("FBLogger")("qpl").blameToPreviousFrame().mustfix("Duplicate QPL markerId: "+a+" & instanceKey: "+c);var e;b("cr:682175")&&(e=b("cr:682175").maybeStartTraceForQPL(a,c,d));this.$6.forEach(function(b){return b.onMarkerStart(a,c,d)});var f=this.$9(a),g=f[0];f=f[1];if(g||e!=null){var h=this.$1[a];h||(this.$1[a]={});this.$1[a][c]={passesSampling:g,timestamp:d,sampleRate:f,points:{}}}e!=null&&this.annotateMarkerString(a,"loomRefId",e,c)};c.markerStartFromNavStart=function(a,c){c===void 0&&(c=0);var d=b("performanceNavigationStart")();this.markerStart(a,c,d);if(b("performanceNavigationStart").isPolyfilled){d=this.$7(a,c);d&&(d.timestampIsApproximate=!0)}};c.annotateMarkerBool=function(a,b,c,d){d===void 0&&(d=0);this.$6.forEach(function(e){return e.onAnnotation(a,d,b,c)});var e=this.$7(a,d);if(!e)return;var f=e.annotationsBool||{};f[b]=c;e.annotationsBool=f};c.annotateMarkerBoolArray=function(a,b,c,d){d===void 0&&(d=0);this.$6.forEach(function(e){return e.onAnnotation(a,d,b,c)});var e=this.$7(a,d);if(!e)return;var f=e.annotationsBoolArray||{};f[b]=c;e.annotationsBoolArray=f};c.annotateMarkerString=function(a,b,c,d){d===void 0&&(d=0);this.$6.forEach(function(e){return e.onAnnotation(a,d,b,c)});var e=this.$7(a,d);if(!e)return;var f=e.annotations||{};f[b]=c;e.annotations=f};c.annotateMarkerStringArray=function(a,b,c,d){d===void 0&&(d=0);this.$6.forEach(function(e){return e.onAnnotation(a,d,b,c)});var e=this.$7(a,d);if(!e)return;var f=e.annotationsStringArray||{};f[b]=c;e.annotationsStringArray=f};c.annotateMarkerInt=function(a,b,c,d){d===void 0&&(d=0);this.$6.forEach(function(e){return e.onAnnotation(a,d,b,c)});var e=this.$7(a,d);if(!e)return;var f=Math.floor(c),g=e.annotationsInt||{};g[b]=f;e.annotationsInt=g};c.annotateMarkerIntArray=function(a,b,c,d){__p&&__p();d===void 0&&(d=0);this.$6.forEach(function(e){return e.onAnnotation(a,d,b,c)});var e=this.$7(a,d);if(!e)return;var f=c.map(function(a){return Math.floor(a)}),g=e.annotationsIntArray||{};g[b]=f;e.annotationsIntArray=g};c.annotateMarkerDouble=function(a,b,c,d){d===void 0&&(d=0);this.$6.forEach(function(e){return e.onAnnotation(a,d,b,c)});var e=this.$7(a,d);if(!e)return;var f=e.annotationsDouble||{};f[b]=c;e.annotationsDouble=f};c.annotateMarkerDoubleArray=function(a,b,c,d){d===void 0&&(d=0);this.$6.forEach(function(e){return e.onAnnotation(a,d,b,c)});var e=this.$7(a,d);if(!e)return;var f=e.annotationsDoubleArray||{};f[b]=c;e.annotationsDoubleArray=f};c.markerPoint=function(a,b,c,d,e){d===void 0&&(d=0);e===void 0&&(e=this.currentTimestamp());this.$6.forEach(function(f){return f.onMarkerPoint(a,d,b,c,e)});var f=this.$7(a,d);if(!f)return;f.points[b]={data:c,timeSinceStart:Math.round(e-f.timestamp)}};c.markerEnd=function(a,c,d,e){__p&&__p();d===void 0&&(d=0);e===void 0&&(e=this.currentTimestamp());var f=Date.now();this.$6.forEach(function(b){return b.onMarkerEnd(c,a,d,e)});var g=this.$7(a,d);if(!g)return;b("cr:682175")&&b("cr:682175").maybeEndTraceForQPL(a,d,e,babelHelpers["extends"]({qpl_action:c},g.annotations,g.annotationsBool,g.annotationsInt,g.annotationsDouble,g.annotationsBoolArray,g.annotationsStringArray,g.annotationsIntArray,g.annotationsDoubleArray));if(g.passesSampling){var h=Math.round(e-g.timestamp);f=f-h;if(g.timestampIsApproximate!==!0){var j=g.points;this.$10({marker_id:a,action_id:c,instance_id:d,sample_rate:g.sampleRate,method:"random_sampling",value:h,annotations:g.annotations,annotations_bool:g.annotationsBool,annotations_int:g.annotationsInt,annotations_double:g.annotationsDouble,annotations_bool_array:g.annotationsBoolArray,annotations_string_array:g.annotationsStringArray,annotations_int_array:g.annotationsIntArray,annotations_double_array:g.annotationsDoubleArray,points:Object.keys(j).map(function(a){return{name:a,timeSinceStart:j[a].timeSinceStart,data:{string:j[a].data!=null?{__key:j[a].data}:null}}}),metadata:{application_analytics:{time_since_qpl_module_init:e-i}}})}this.$4===a&&(console.timeStamp("QPLDebug MarkerEnd, "+this.currentTimestamp()+", "+f+", "+h),b("Arbiter").inform("qpl_debugger_finished"))}delete this.$1[a][d]};c.markerDrop=function(a,c){c===void 0&&(c=0);var d=this.$1[a];d&&delete d[c];if(b("cr:682175")){d=this.currentTimestamp();b("cr:682175").maybeEndTraceForQPL(a,c,d,{qpl_action:216})}};c.markEvent=function(a,c,d,e){__p&&__p();e=e===void 0?{}:e;var f=e.timestamp;f=f===void 0?this.currentTimestamp():f;e=e.annotations;if(b("QuickLogConfig").killswitch)return;var g=this.$9(a),h=g[0];g=g[1];if(!h)return;h=typeof e==="function"?e():e;this.$10({marker_id:a,action_id:0,instance_id:0,sample_rate:g,method:"random_sampling",value:0,da_type:c,da_level:d,annotations:h==null?void 0:h.string,annotations_int:h==null?void 0:h["int"],annotations_double:h==null?void 0:h["double"],annotations_bool:h==null?void 0:h.bool,annotations_string_array:h==null?void 0:h.string_array,annotations_int_array:h==null?void 0:h.int_array,annotations_double_array:h==null?void 0:h.double_array,annotations_bool_array:h==null?void 0:h.bool_array,metadata:{application_analytics:{time_since_qpl_module_init:f-i}}})};c.dropAllMarkers=function(){this.$1={}};c.setAlwaysOnSampleRate=function(a,b){this.$2[a]=b};c.setSampleRateForInstance=function(a,b,c){c===void 0&&(c=0);a=this.$1[a][c];a&&(a.sampleRate=b)};c.currentTimestamp=function(){return(g||(g=b("performanceAbsoluteNow")))()};c.$9=function(a){var c;c=(c=b("QuickLogConfigHelper").getEventDetails(a))!=null?c:{sampleRate:0};c=this.$4===a?1:(a=(a=this.$2[a])!=null?a:c.sampleRate)!=null?a:this.$3;a=(h||(h=b("Env"))).enable_qplinspector===!0||b("Random").coinflip(c);return[a,c]};c.$10=function(a){var c=this.$11(a);(h||(h=b("Env"))).enable_qplinspector===!0&&b("Bootloader").loadModules(["QPLInspector"],function(a){a.appendLog(c)},"QuickPerformanceLogger");b("gkx")("708253")?b("PerfFalcoEvent").logImmediately(function(){return c}):b("PerfFalcoEvent").log(function(){return c})};c.$11=function(a){var c=b("PerfXSharedFields").getCommonData();a.metadata=babelHelpers["extends"]({},a.metadata,{memory_stats:{total_mem:c.ram_gb?c.ram_gb*1073741824:null},network_stats:{downlink_megabits:c.downlink_megabits,network_subtype:c.effective_connection_type,rtt_ms:c.rtt_ms}});return a};c.$8=function(a,b,c){};c.enableDebug=function(a){this.$4=parseInt(a,10)};c.disableDebug=function(){this.$4=null};c.addListener=function(a){var b=this,c=this.$5++;this.$6.set(c,a);return{dispose:function(){b.$6["delete"](c)}}};return a}();e.exports=new a()}),null);